image: rust:latest

variables:
  COBALT_VERSION: "v0.18.3"
  COBALT_GIT_URL: https://github.com/cobalt-org/cobalt.rs.git
pages:
  script:
  - mkdir /cobalt
  - cd /cobalt
  - git clone --branch $COBALT_VERSION $COBALT_GIT_URL
  - cd cobalt.rs/
  - cargo build --release
  - export PATH="$PATH:$(pwd)/target/release/"
  - cd /builds/almazmurzabekov/blog/
  - cobalt --version
  - ls -la 
  - cobalt build -d public
  artifacts:
    paths:
    - public/
  only:
  - main